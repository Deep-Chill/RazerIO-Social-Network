{% extends 'base.html' %}

{% block content %}

<h1>Messages</h1>

<!-- Compose Message -->
<h3>Compose Message</h3>
<form method="POST" action="#">
  {% csrf_token %}
  <div class="form-group">
    <label for="recipient">To:</label>
    <input type="text" class="form-control" id="recipient" name="recipients" placeholder="Enter recipient username(s)">
  </div>
  <div class="form-group">
    <label for="subject">Subject:</label>
    <input type="text" class="form-control" id="subject" name="subject" placeholder="Enter subject">
  </div>
  <div class="form-group">
    <label for="body">Message:</label>
    <textarea class="form-control" id="body" name="body" rows="3" placeholder="Enter message"></textarea>
  </div>
  <button type="submit" class="btn btn-primary">Send</button>
</form>

<!-- View Messages -->
<h3>Messages</h3>
<table class="table">
  <thead>
    <tr>
      <th scope="col">From</th>
      <th scope="col">Subject</th>
      <th scope="col">Date/Time</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for thread in inbox %}
    <tr>
      <td>{{ thread.sender }}</td>
      <td><a href="#">{{ thread.subject }}</a></td>
      <td>{{ thread.updated }}</td>
      <td>
        <a class="btn btn-secondary" href="#">Reply</a>
        <a class="btn btn-secondary" href="#" onclick="return confirm('Are you sure you want to delete this message?')">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
